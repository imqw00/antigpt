<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Offline Text Rewriter (No API)</title>
</head>
<body>
  <h1>Offline Text Rewriter (No API)</h1>
  <textarea id="input" rows="10" cols="80" placeholder="Paste text here..."></textarea><br><br>
  <button onclick="rewriteText()">Rewrite Text</button>
  <pre id="output" style="white-space: pre-wrap; margin-top: 20px; border: 1px solid #ccc; padding: 10px;"></pre>

  <script>
    // Simple synonym dictionary
    const synonyms = {
      "revolutionized": ["changed", "transformed", "altered"],
      "approach": ["method", "way", "strategy"],
      "problem-solving": ["trouble-shooting", "finding solutions"],
      "decision-making": ["choosing", "deciding"],
      "often": ["frequently", "commonly"],
      "lacks": ["misses", "doesn't have"],
      "natural": ["normal", "human-like", "organic"],
      "flow": ["rhythm", "smoothness"],
      "nuance": ["subtlety", "detail"],
      "detectable": ["noticeable", "recognizable"],
      "rewriting": ["rephrasing", "restating"],
      "casual": ["relaxed", "informal"],
      "help": ["assist", "aid"],
      "bypass": ["avoid", "get around"],
      "such": ["these kinds of", "those"]
    };

    function getRandomSynonym(word) {
      const lower = word.toLowerCase();
      if (synonyms[lower]) {
        const options = synonyms[lower];
        return options[Math.floor(Math.random() * options.length)];
      }
      return word;
    }

    function rewriteText() {
      const input = document.getElementById("input").value;
      if (!input.trim()) {
        alert("Please paste some text.");
        return;
      }
      // Split input into words
      const words = input.split(/\b/); // Split but keep punctuation
      const rewrittenWords = words.map(word => {
        // Only replace words (skip punctuation and spaces)
        if (/^\w+$/.test(word)) {
          // 30% chance to replace word with synonym
          if (Math.random() < 0.3) {
            return getRandomSynonym(word);
          }
        }
        return word;
      });

      // Add random casual filler phrase sometimes
      let output = rewrittenWords.join("");
      if (Math.random() < 0.4) {
        output += " You know?";
      }
      if (Math.random() < 0.3) {
        output = "Honestly, " + output;
      }

      document.getElementById("output").textContent = output;
    }
  </script>
</body>
</html>
